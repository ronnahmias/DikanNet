var carviewurl='@Url.Action("CarsView")',fundviewurl='@Url.Action("FundView")',fammemviewurl='@Url.Action("FamilyView")',form=$("form"),carsdiv=$("#cardiv .cars"),funddiv=$("#Funding .funds"),fammemdiv=$("#FamMemdiv .fam");function workSet(t){var s=$(t.attr("data-target")),e=s.children(),a=t.val();switch(e.first().find(".salary-entery").css("display","block"),a){case"שכיר":e.each(function(){$(this).css("display","block"),$(this).find(":input").each(function(){$(this).hasClass("chosen-search-input")||$(this).addClass("must")}),$(this).find("span.box-title").html("תלוש שכר -")}),s.css("grid-template-columns","repeat(3,1fr)");break;case"עצמאי":case"חבר_קיבוץ":case"לא_עובד":case"נכה":case"נפטר":case"אחר":switch(e.each(function(){$(this).css("display","none"),$(this).find(":input").each(function(){$(this).removeClass("must")})}),e.first().css("display","block"),e.first().find(":input").each(function(){$(this).hasClass("chosen-search-input")||$(this).addClass("must")}),s.css("grid-template-columns","700px"),a){case"עצמאי":e.first().find("span.box-title").html("אישור שומת מס הכנסה לשנה קודמת - ");break;case"חבר_קיבוץ":e.first().find("span.box-title").html("אישור עדכני על ההכנסה לנפש בקיבוץ - ");break;case"לא_עובד":e.first().find("span.box-title").html("אישור עדכני מביטוח לאומי על גובה האבטלה - ");break;case"נכה":e.first().find("span.box-title").html("אישור מביטוח לאומי על נכות וגובה הקצבה - ");break;case"נפטר":e.first().find("span.box-title").html("תעודת פטירה - "),e.first().find(".salary-entery").css("display","none");break;case"אחר":e.first().find("span.box-title").html("אחר - ")}break;case"פנסיונר":e.each(function(){$(this).css("display","block"),$(this).find(":input").each(function(){$(this).hasClass("chosen-search-input")||$(this).addClass("must")}),$(this).find("span.box-title").html("תלוש שכר - ")}),e.last().css("display","none"),e.last().find(":input").each(function(){$(this).removeClass("must")}),s.css("grid-template-columns","repeat(2,1fr)");break;default:console.log("ברירת מחדל")}e.each(function(){$(this).find(":input").each(function(){$(this).removeClass("must")})}),mustAddSign()}$(document).ready(function(){$(".box-open").each(function(){var t=$(this);"none"!=t.css("display")&&t.find(":input").each(function(){$(this).hasClass("chosen-search-input")||"hidden"==$(this).attr("type")||$(this).addClass("must")})}),$("input.workset").each(function(){$(this).is(":checked")&&workSet($(this))})}),$("#otherMili").on("change",function(){var t=$(this),s=$('input[name="SocioMod.MilitaryService"]').first();s.prop("checked",!0),t.val().includes("אחר ")||t.val("אחר - "+t.val()),s.val(t.val())}),$("#addCar").click(function(){$.get(carviewurl,function(t){carsdiv.last().before(t)})}),$(document).on("click",".del-car",function(){var a=$(this).closest(".cars"),t=a.find(".id").attr("value");t?$.ajax({url:"/Student/DevareCar",dataType:"text",data:{CarNum:t},method:"POST",success:function(){a.remove()},error:function(t,s,e){console.log(t.status),console.log(e),a.remove()}}):a.remove()}),$("#addFund").click(function(){$.ajax({url:fundviewurl,dataType:"text",data:null,method:"GET",success:function(t){funddiv.last().before(t)},error:function(t,s,e){console.log(t.status),console.log(e)}})}),$(document).on("click",".del-fund",function(){var a=$(this).closest(".funds"),t=a.find(".id").val();t&&0!=t?$.ajax({url:"/Student/DevareFund",dataType:"text",data:{FundId:t},method:"POST",success:function(){a.remove()},error:function(t,s,e){console.log(t.status),console.log(e),a.remove()}}):a.remove()}),$("#addFamMem").click(function(){$.get(fammemviewurl,function(t){fammemdiv.last().before(t)})}),$(document).on("click",".del-fammem",function(){var a=$(this).closest(".fam"),t=a.find(".id").attr("value");t?$.ajax({url:"/Student/DevareFamMem",dataType:"text",data:{FamilyId:t},method:"POST",success:function(){a.remove()},error:function(t,s,e){console.log(t.status),console.log(e),a.remove()}}):a.remove()}),$("input.workset").change(function(){workSet($(this))});