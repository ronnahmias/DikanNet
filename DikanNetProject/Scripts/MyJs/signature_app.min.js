var wrapper=document.getElementById("signature-pad"),clearButton=wrapper.querySelector("[data-action=clear]"),changeColorButton=wrapper.querySelector("[data-action=change-color]"),undoButton=wrapper.querySelector("[data-action=undo]"),savePNGButton=wrapper.querySelector("[data-action=save-png]"),saveJPGButton=wrapper.querySelector("[data-action=save-jpg]"),saveSVGButton=wrapper.querySelector("[data-action=save-svg]"),canvas=wrapper.querySelector("canvas"),signaturePad=new SignaturePad(canvas,{backgroundColor:"rgb(255, 255, 255)"});function resizeCanvas(){var a=Math.max(window.devicePixelRatio||1,1);canvas.width=canvas.offsetWidth*a,canvas.height=canvas.offsetHeight*a,canvas.getContext("2d").scale(a,a),signaturePad.clear()}function download(a,e){if(-1<navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"))window.open(a);else{var t=dataURLToBlob(a),n=window.URL.createObjectURL(t),r=document.createElement("a");r.style="display: none",r.href=n,r.download=e,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n)}}function dataURLToBlob(a){for(var e=a.split(";base64,"),t=e[0].split(":")[1],n=window.atob(e[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;++i)o[i]=n.charCodeAt(i);return new Blob([o],{type:t})}(window.onresize=resizeCanvas)(),clearButton.addEventListener("click",function(a){signaturePad.clear()}),undoButton.addEventListener("click",function(a){var e=signaturePad.toData();e&&(e.pop(),signaturePad.fromData(e))}),changeColorButton.addEventListener("click",function(a){var e="rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")";signaturePad.penColor=e}),savePNGButton.addEventListener("click",function(a){if(signaturePad.isEmpty())alert("Please provide a signature first.");else{var e=signaturePad.toDataURL();alert(e)}}),saveJPGButton.addEventListener("click",function(a){signaturePad.isEmpty()?alert("Please provide a signature first."):download(signaturePad.toDataURL("image/jpeg"),"signature.jpg")}),saveSVGButton.addEventListener("click",function(a){signaturePad.isEmpty()?alert("Please provide a signature first."):download(signaturePad.toDataURL("image/svg+xml"),"signature.svg")});