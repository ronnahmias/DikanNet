function docReadyAndAjax(){pophover(),onlyNumbers(),chosen(),datepicker(),choseFile(),onChangeIdValid(),onChangeEmailValid()}function pophover(){$("[data-toggle='popover']").popover(),$("[data-toggle='popover']").attr("data-html","true")}function onChangeIdValid(){$("input.id").change(function(){var e=$(this);validId(e.val())?e.removeClass("border-danger"):e.addClass("border-danger")})}function onChangeEmailValid(){$("input.email").change(function(){var e=$(this);validEmail(e.val())?e.removeClass("border-danger"):e.addClass("border-danger")})}function datepicker(){$('[data-toggle="datepicker"]').attr("readonly",!0),$('[data-toggle="datepicker"]').datepicker({language:"he-HE"})}function chosen(){$(".chosen").chosen({no_results_text:"אין ערך כזה.",rtl:!0,allow_single_deselect:!0,width:"100%"})}function onlyNumbers(){$(".only-numbers").attr("onkeypress","return event.charCode >= 48 && event.charCode <=57"),$("input.id").attr("onkeypress","return event.charCode >= 48 && event.charCode <=57")}function choseFile(){$('input[type="file"]').change(function(){console.log("chose file");var e=$(this),a=e.val().split("\\").pop(),t=$('label[for="'+e.attr("id")+'"]')[0],n=e.parent();0==a.length?(t.append('<i class="ml-1 material-icons">add_photo_alternate</i>'),t.textContent="בחר קובץ",n.removeClass("file-selcted")):(t.textContent=a,n.addClass("file-selcted"))})}function validId(e){var a=0,t=new String(e);for(i=0;i<8;i++)x=(i%2+1)*t.charAt(i),9<x&&(x=x.toString(),x=parseInt(x.charAt(0))+parseInt(x.charAt(1))),a+=x;return(a+parseInt(t.charAt(8)))%10==0}function validPassword(e){if(e.length<8)return!1;return!!(e.match(/[a-z]/g)&&e.match(/[A-Z]/g)&&e.match(/[0-9]/g))}function validEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function showHidenPortion(e,a){1==e?($("#"+a).fadeIn(),$("#"+a+" :input").each(function(){$(this).addClass("must")})):($("#"+a).fadeOut(),$("#"+a+" :input").each(function(){$(this).removeClass("must")}))}function checkMust(){var r=!0;return $(".must").each(function(){var e=$(this),a=e.attr("type"),t=e.parent().find(".chosen-single");e.removeClass("border-danger"),t.removeClass("border-danger");var n=e.val();console.log("This: "+a),console.log("Text: "+n),console.log("OK: "+r),"file"==a?(console.log("File"),checkMustFile(e)||(r=!1)):(console.log("Else"),0!=n.length&&null!=n||(r=!1,e.addClass("border-danger"),t.addClass("border-danger")))}),r}function checkMustFile(e){return ok=!0,$fileDiv=e.parent(),file=e.val(),path=e.attr("path"),null==path&&(path=""),file.length<=0&&path.length<=0?($fileDiv.addClass("bg-red"),ok=!1):$fileDiv.removeClass("bg-red"),ok}function validUpdateStu(){var e=checkMust(),a=$("#BirthDay");return dateIsValid(a.val(),1920)?a.removeClass("border-danger"):(a.addClass("border-danger"),e=!1),e}function dateIsValid(e,a){console.log("checkDate");var t=!0,n=e.split("-");n[2]<a&&(t=!1);var r=n[0];return n[0]=n[1],n[1]=r,n=n.join("/"),date=new Date(n),"Invalid Date"==date.toString()&&(t=!1),t}function validPasswordsAndEmail(){var e=$("#Email").val();return checkPasswordsValid()&&validEmail(e)}$(document).ready(function(){$(".review-password").hover(function(){$("input#Password").attr("type","text")},function(){$("input#Password").attr("type","password")}),$(".review-confirm-password").hover(function(){$("input#ConfirmPassword").attr("type","text")},function(){$("input#ConfirmPassword").attr("type","password")});var e=$("#carstdcount").val();$("#addCar").click(function(){$("#carsdiv").append("<input class='control-label col-md-2 text-box single-line' data-val='true' data-val-number='The field CarNumber must be a number.' data-val-required='השדה CarNumber נדרש.' id='CarStudent1_"+e+"__CarNumber' name='CarStudent1["+e+"].CarNumber' type='number' >"),$("#carsdiv").append("<input class='control-label col-md-2 text-box single-line' data-val='true' data-val-number='The field CarNumber must be a number.' data-val-required='השדה CarNumber נדרש.' id='CarStudent1_"+e+"__CarCompany' name='CarStudent1["+e+"].CarCompany' type='number' >"),e++}),docReadyAndAjax()}),$(document).ajaxComplete(function(){docReadyAndAjax()});