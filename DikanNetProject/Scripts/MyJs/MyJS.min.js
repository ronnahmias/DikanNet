function docReadyAndAjax(){pophover(),onlyNumbers(),chosen(),datepicker(),choseFile(),onChangeIdValid(),onChangeEmailValid()}function pophover(){$("[data-toggle='popover']").popover(),$("[data-toggle='popover']").attr("data-html","true")}function onChangeIdValid(){$("input.id").change(function(){var e=$(this);validId(e.val())?e.removeClass("border-danger"):e.addClass("border-danger")})}function onChangeEmailValid(){$("input.email").change(function(){var e=$(this);validEmail(e.val())?e.removeClass("border-danger"):e.addClass("border-danger")})}function datepicker(){$('[data-toggle="datepicker"]').attr("readonly",!0),$('[data-toggle="datepicker"]').datepicker({language:"he-HE",setStartDate:"01/01/1920"})}function chosen(){$(".chosen").chosen({no_results_text:"אין ערך כזה.",rtl:!0,allow_single_deselect:!0,width:"100%"})}function onlyNumbers(){$(".only-numbers").attr("onkeypress","return event.charCode >= 48 && event.charCode <=57"),$("input.id").attr("onkeypress","return event.charCode >= 48 && event.charCode <=57")}function choseFile(){$('input[type="file"]').change(function(){console.log("chose file");var e=$(this),a=e.val().split("\\").pop(),t=$('label[for="'+e.attr("id")+'"]')[0],r=e.parent();0==a.length?(t.append('<i class="ml-1 material-icons">add_photo_alternate</i>'),t.textContent="בחר קובץ",r.removeClass("file-selcted")):(t.textContent=a,r.addClass("file-selcted"))})}function validId(e){var a=0,t=new String(e);for(i=0;i<8;i++)x=(i%2+1)*t.charAt(i),9<x&&(x=x.toString(),x=parseInt(x.charAt(0))+parseInt(x.charAt(1))),a+=x;return(a+parseInt(t.charAt(8)))%10==0}function validPassword(e){if(e.length<8)return!1;return!!(e.match(/[a-z]/g)&&e.match(/[A-Z]/g)&&e.match(/[0-9]/g))}function validEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function showHidenPortion(e,a){1==e?($("#"+a).fadeIn(),$("#"+a+" :input").each(function(){$(this).addClass("must")})):($("#"+a).fadeOut(),$("#"+a+" :input").each(function(){$(this).removeClass("must")}))}function checkMust(){var n=!0;return $(".must").each(function(){var e=$(this),a=e.attr("type"),t=e.parent().find(".chosen-single");e.removeClass("border-danger"),t.removeClass("border-danger");var r=e.val();console.log("This: "+a),console.log("Text: "+r),console.log("OK: "+n),"file"==a?(console.log("File"),checkMustFile(e)||(n=!1)):(console.log("Else"),0!=r.length&&null!=r||(n=!1,e.addClass("border-danger"),t.addClass("border-danger")))}),n}function checkMustFile(e){return ok=!0,$fileDiv=e.parent(),file=e.val(),path=e.attr("path"),null==path&&(path=""),file.length<=0&&path.length<=0?($fileDiv.addClass("bg-red"),ok=!1):$fileDiv.removeClass("bg-red"),ok}function validUpdateStu(){var e=checkMust(),a=$("#BirthDay");return dateIsValid(a.val(),1920)?a.removeClass("border-danger"):(a.addClass("border-danger"),e=!1),e}function dateIsValid(e,a){console.log("checkDate");var t=!0,r=e.split("-");r[2]<a&&(t=!1);var n=r[0];return r[0]=r[1],r[1]=n,r=r.join("/"),date=new Date(r),"Invalid Date"==date.toString()&&(t=!1),t}function validPasswordsAndEmail(){var e=$("#Email").val();return checkPasswordsValid()&&validEmail(e)}function checkPasswordsValid(){$("#ValidMessagePassword").text="",$("input[type=password]").removeClass("border border-danger");var e=$("#Password").val();return!(e!=$("#ConfirmPassword").val()||!validPassword(e))||($("#ValidMessagePassword").text="שגיאה, הסיסמא לא תקנית",$("input[type=password]").addClass("border border-danger"),$("#OldPassword").removeClass("border border-danger"),!1)}$(document).ready(function(){var e;$(".review-password").hover(function(){(e=$(this).parent().find('input[type="password"]')).attr("type","text")},function(){e.attr("type","password")});var a=$("#carstdcount").val();$("#addCar").click(function(){$("#carsdiv").append("<input class='control-label col-md-2 text-box single-line' data-val='true' data-val-number='The field CarNumber must be a number.' data-val-required='השדה CarNumber נדרש.' id='CarStudent1_"+a+"__CarNumber' name='CarStudent1["+a+"].CarNumber' type='number' >"),$("#carsdiv").append("<input class='control-label col-md-2 text-box single-line' data-val='true' data-val-number='The field CarNumber must be a number.' data-val-required='השדה CarNumber נדרש.' id='CarStudent1_"+a+"__CarCompany' name='CarStudent1["+a+"].CarCompany' type='number' >"),a++}),docReadyAndAjax()}),$(document).ajaxComplete(function(){docReadyAndAjax(),$(".clear-date").click(function(){$(this).parent().find('input[data-toggle="datepicker"]').val("")})}),$(".clear-date").click(function(){$(this).parent().find('input[data-toggle="datepicker"]').val("")});