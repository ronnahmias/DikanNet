function docReadyAndAjax(){pophover(),onlyNumbers(),posNumbers(),onlyHeb(),chosen(),choseFile(),onChangeIdValid(),onChangeEmailValid(),mustAddSign()}function pophover(){$("[data-toggle='popover']").popover(),$("[data-toggle='popover']").attr("data-html","true")}function onChangeIdValid(){$("input.id").change(function(){var e=$(this);validId(e.val())?e.removeClass("border-danger"):e.addClass("border-danger")})}function onChangeEmailValid(){$("input.email").change(function(){var e=$(this);validEmail(e.val())?e.removeClass("border-danger"):e.addClass("border-danger")})}function chosen(){$(".chosen").chosen({no_results_text:"אין ערך כזה.",rtl:!0,allow_single_deselect:!0,width:"100%"})}function onlyNumbers(){$(".only-numbers").attr("onkeypress","return event.charCode >= 48 && event.charCode <=57"),$("input.id").attr("onkeypress","return event.charCode >= 48 && event.charCode <=57")}function posNumbers(){$(".pos-num").attr("min","0")}function onlyHeb(){$(".only-heb").attr("onkeypress","return (event.charCode >= 0x590 && event.charCode <=0x5FF) || event.charCode == 32")}function choseFile(){$('input[type="file"]').change(function(){console.log("chose file");var e=$(this),a=e.val().split("\\").pop(),t=$('label[for="'+e.attr("id")+'"]')[0],n=e.parent();0==a.length?(t.append('<i class="ml-1 material-icons">add_photo_alternate</i>'),t.textContent="בחר קובץ",n.removeClass("file-selcted")):(t.textContent=a,n.addClass("file-selcted"))})}function validId(e){var a=0,t=new String(e);for(i=0;i<8;i++)x=(i%2+1)*t.charAt(i),9<x&&(x=x.toString(),x=parseInt(x.charAt(0))+parseInt(x.charAt(1))),a+=x;return(a+parseInt(t.charAt(8)))%10==0}function validPassword(e){if(e.length<8)return!1;return!!(e.match(/[a-z]/g)&&e.match(/[A-Z]/g)&&e.match(/[0-9]/g))}function validEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function showHidenPortion(e,a){if(console.log("checked: "+e),!0===e||"true"===e){if($("#"+a).fadeIn(),"Funding"==a)return;$("#"+a+" :input").each(function(){$(this).addClass("must")})}else $("#"+a).fadeOut(),$("#"+a+" :input").each(function(){$(this).removeClass("must")})}function checkMust(){var d=!0,o=new RegExp("^[֐-׿ ]*$");return $(".must").each(function(){var e=$(this),a=e.attr("type"),t=e.parent().find(".chosen-single");e.removeClass("border-danger"),t.removeClass("border-danger");var n=e.val();if(e.hasClass("only-heb"))o.test(n)&&null!=n&&0!=n.length||(d=!1,e.addClass("border-danger"));else if(e.hasClass("pos-num")){var r=parseFloat(n);(!$.isNumeric(r)||r<0)&&(d=!1,e.addClass("border-danger"))}else e.hasClass("id")?validId(n)||(d=!1,e.addClass("border-danger")):"date"==a?dateIsValidd(e)||(e.addClass("border-danger"),d=!1):"file"==a?checkMustFile(e)||(d=!1):"email"==a?validEmail(n)||(d=!1,e.addClass("border-danger")):0!=n.length&&null!=n||(d=!1,e.addClass("border-danger"),t.addClass("border-danger"))}),d}function checkMustFile(e){return ok=!0,$fileDiv=e.parent(),file=e.val(),path=e.attr("path"),null==path&&(path=""),file.length<=0&&path.length<=0?($fileDiv.addClass("bg-red"),ok=!1):$fileDiv.removeClass("bg-red"),ok}function validUpdateStu(){var e=checkMust();return 0==e&&$("#errorModal").modal("show"),e}function dateIsValidd(e){console.log("checkDatee");var a=!0,t=new Date(e.val());console.log("Date: "+t),console.log("Min: "+e.attr("min")),console.log("Max: "+e.attr("max")),"Invalid Date"==t.toString()&&(a=!1);var n=t.getTime(),r=new Date(e.attr("min")).getTime(),d=new Date(e.attr("max")).getTime();return r<=n&&n<=d||(a=!1),a}function validPasswordsAndEmail(){var e=$("#Email").val();return checkPasswordsValid()&&validEmail(e)}function checkPasswordsValid(){$("#ValidMessagePassword").text="",$("input[type=password]").removeClass("border border-danger");var e=$("#Password").val();return!(e!=$("#ConfirmPassword").val()||!validPassword(e))||($("#ValidMessagePassword").text="שגיאה, הסיסמא לא תקנית",$("input[type=password]").addClass("border border-danger"),$("#OldPassword").removeClass("border border-danger"),!1)}function mustAddSign(){$(".must").each(function(){null==$(this).attr("path")&&$(this).parent().parent().find("label").addClass("must-sign")})}$(document).ready(function(){var e;$(".review-password").hover(function(){(e=$(this).parent().find('input[type="password"]')).attr("type","text"),console.log(e)},function(){e.attr("type","password")});var a=$("#carstdcount").val();$("#addCar").click(function(){$("#carsdiv").append("<input class='control-label col-md-2 text-box single-line' data-val='true' data-val-number='The field CarNumber must be a number.' data-val-required='השדה CarNumber נדרש.' id='CarStudent1_"+a+"__CarNumber' name='CarStudent1["+a+"].CarNumber' type='number' >"),$("#carsdiv").append("<input class='control-label col-md-2 text-box single-line' data-val='true' data-val-number='The field CarNumber must be a number.' data-val-required='השדה CarNumber נדרש.' id='CarStudent1_"+a+"__CarCompany' name='CarStudent1["+a+"].CarCompany' type='number' >"),a++}),docReadyAndAjax()}),$(document).ajaxComplete(function(){docReadyAndAjax(),$(".clear-date").click(function(){$(this).parent().find('input[data-toggle="datepicker"]').val("")})});