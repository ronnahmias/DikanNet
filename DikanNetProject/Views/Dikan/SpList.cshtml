@model IEnumerable<DataEntities.SpDefinition>

@{
    ViewBag.Title = "רשימת מלגות";
    Layout = "~/Views/Dikan/_Layout.cshtml";
}

<h2 class="mb-3">@ViewBag.Title</h2>
<h5 class="mb-3">@ViewBag.response</h5>
@Html.ActionLink("הוספת מלגה חדשה", "CreateEditSp", null, new { @class = "btn btn-outline-primary" })
@Html.ActionLink("רשימת מקומות התנדבות", "VolunteerList", null, new { @class = "btn btn-outline-primary" })
<h4 class="mt-3">מלגות פעילות</h4>
<hr />
<div class="container-fluid">
    <div class="row bg-primary text-white py-3 d-none d-md-flex mt-4 text-center">
        <!--work sp-->
        <!--sp name-->
        <div class="col-lg-2 col-xl-2">
            שם מלגה
        </div>
        <!--sp amount-->
        <div class="col-lg-1 col-xl-1">
            גובה מלגה
        </div>
        <!--sp details-->
        <div class="col-lg-3 col-xl-3">
            פרטי מלגה
        </div>
        <!--sp type-->
        <div class="col-lg-1 col-xl-1">
            סוג מלגה
        </div>
        <!--open date-->
        <div class="col-lg-1 col-xl-1">
            תאריך פתיחה
        </div>
        <!--dead line date-->
        <div class="col-lg-1 col-xl-1">
            תאריך סגירה
        </div>
        <!--options-->
        <div class="col-lg-3 col-xl-3">
            פעולות
        </div>
    </div>

    @foreach (var item in Model.Where(s => s.DateDeadLine > DateTime.Now).OrderByDescending(s => s.Type).ToList())
    {
        <div class="row py-3 border border-secondary text-center">
            <!--work sp-->
            <!--sp name-->
            <div class="col-lg-2 col-xl-2">
                @item.ScholarshipName
            </div>
            <!--sp amount-->
            <div class="col-lg-1 col-xl-1">
                @item.ScholarshipAmount
            </div>
            <!--sp details-->
            <div class="col-lg-3 col-xl-3">
                @item.ScholarshipDetails
            </div>
            <!--sp type-->
            <div class="col-lg-1 col-xl-1">
                @item.Type
            </div>
            <!--open date-->
            <div class="col-lg-1 col-xl-1">
                @Convert.ToString(string.Format("{0:dd/MM/yyyy}", item.DateOpenScholarship))
            </div>
            <!--dead line date-->
            <div class="col-lg-1 col-xl-1">
                @Convert.ToString(string.Format("{0:dd/MM/yyyy}", item.DateDeadLine))
            </div>
            <!--options-->
            <div class="col-lg-3 col-xl-3">
                @Html.ActionLink("ערוך מלגה", "CreateEditSp", new { id = item.ScholarshipID }, new { @class = "btn btn-outline-primary" })
                @Html.ActionLink("צפייה בהגשות מלגה", "SubmitedSp", new { spId = item.ScholarshipID, spType = item.Type }, new { @class = "btn btn-outline-primary" })
            </div>
        </div>
    }
    <br /><br />
    <h4>מלגות לא פעילות</h4>
    <hr />
    <div class="row bg-primary text-white py-3 d-none d-md-flex mt-4 text-center">
        <!--work sp-->
        <!--sp name-->
        <div class="col-lg-2 col-xl-2">
            שם מלגה
        </div>
        <!--sp amount-->
        <div class="col-lg-1 col-xl-1">
            גובה מלגה
        </div>
        <!--sp details-->
        <div class="col-lg-3 col-xl-3">
            פרטי מלגה
        </div>
        <!--sp type-->
        <div class="col-lg-1 col-xl-1">
            סוג מלגה
        </div>
        <!--open date-->
        <div class="col-lg-1 col-xl-1">
            תאריך פתיחה
        </div>
        <!--dead line date-->
        <div class="col-lg-1 col-xl-1">
            תאריך סגירה
        </div>
        <!--options-->
        <div class="col-lg-3 col-xl-3">
            פעולות
        </div>
    </div>

    @foreach (var item in Model.Where(s => s.DateDeadLine < DateTime.Now).OrderByDescending(s => s.DateDeadLine).ToList())
    {
        <div class="row py-3 border border-secondary text-center mb-5">
            <!--work sp-->
            <!--sp name-->
            <div class="col-lg-2 col-xl-2">
                @item.ScholarshipName
            </div>
            <!--sp amount-->
            <div class="col-lg-1 col-xl-1">
                @item.ScholarshipAmount
            </div>
            <!--sp details-->
            <div class="col-lg-3 col-xl-3">
                @item.ScholarshipDetails
            </div>
            <!--sp type-->
            <div class="col-lg-1 col-xl-1">
                @item.Type
            </div>
            <!--open date-->
            <div class="col-lg-1 col-xl-1">
                @Convert.ToString(string.Format("{0:dd/MM/yyyy}", item.DateOpenScholarship))
            </div>
            <!--dead line date-->
            <div class="col-lg-1 col-xl-1">
                @Convert.ToString(string.Format("{0:dd/MM/yyyy}", item.DateDeadLine))
            </div>
            <!--options-->
            <div class="col-lg-3 col-xl-3">
                @Html.ActionLink("ערוך מלגה", "CreateEditSp", new { id = item.ScholarshipID }, new { @class = "btn btn-outline-primary" })
                @Html.ActionLink("צפייה בהגשות מלגה", "SubmitedSp", new { spId = item.ScholarshipID, spType = item.Type }, new { @class = "btn btn-outline-primary" })
            </div>
        </div>
    }
</div>
