@using HtmlHelpers.BeginCollectionItem
@model DataEntities.Funding

    <div class="funds">
        @using (Html.BeginCollectionItem("ListFundings"))
        {
            <div class="form-row">
                @Html.EditorFor(model => model.FinancingInstitution, new { htmlAttributes = new { @class = "control-label must", @placeholder = "." } })
                @Html.LabelFor(model => model.FinancingInstitution, htmlAttributes: new { @class = "title" })
            </div>
            <div class="form-row">
                @Html.EditorFor(model => model.FinancingHeight, new { htmlAttributes = new { @class = "control-label only-numbers must", @placeholder = ".", @type = "text" } })
                @Html.LabelFor(model => model.FinancingHeight, htmlAttributes: new { @class = "title" })
            </div>
            <div class="text-center">
                @*@Html.LabelFor(model => model.YearFinancing, htmlAttributes: new { @class = "" })*@
                @Html.DropDownListFor(model => model.YearFinancing, ViewBag.YearsList as SelectList, "", htmlAttributes: new { @class = "control-label chosen must", @data_placeholder = "שנת מימון" })
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.FileFunding, htmlAttributes: new { @class = "", @for = "" })
                <div class="chose-file text-center">
                    @Html.TextBoxFor(model => model.FileFunding, new { @class = "must control-label", @type = "file", @accept = "image/jpeg,image/jpg,image/png,application/pdf", @style = "display:none;",@path=Model.PathFunding })
                    <label for="@Html.IdFor(m => m.FileFunding)">
                        <i class="ml-1 material-icons">add_photo_alternate</i>
                        בחר קובץ
                    </label>
                    @Html.HiddenFor(model => model.PathFunding)
                </div>
            </div>
            
            <div class="text-center">
                <embed src='/UsersFiles/@Model.StudentId/@Model.PathFunding' class=" @(@Model.PathFunding == null ? "d-none" : " ") embed-file" style="" />
            </div>

            @Html.HiddenFor(model => model.PathFunding)
            @Html.HiddenFor(model => model.FundingId, new { @class = "id" })
            <button class="btn btn-danger del-fund" type="button">X</button>
            <div class="form-group row text-danger">
                @Html.ValidationMessageFor(model => model.FinancingInstitution, "", new { @class = "control-label" })
                @Html.ValidationMessageFor(model => model.FinancingHeight, "", new { @class = "control-label" })
                @Html.ValidationMessageFor(model => model.YearFinancing, "", new { @class = "control-label" })
                @Html.ValidationMessageFor(model => model.FileFunding, "", new { @class = "control-label" })
            </div>
        }
    </div>
